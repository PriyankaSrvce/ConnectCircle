<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Request Status</title>

<style>
/* ===== BASE ===== */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f5f0fb;
    font-size: 21px;
}

/* ===== APP HEADING ===== */
.app-header {
    background: #f5f0fb;
    color: #5b3fa6;
    font-size: 36px;
    font-weight: bold;
    padding: 20px 50px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.06);
}

/* ===== BACK BUTTON ===== */
.back-btn {
    margin: 15px 60px;
    background: #ede7fb;
    color: #5b3fa6;
    border: none;
    padding: 12px 20px;
    font-size: 18px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
}

/* ===== PAGE WRAPPER ===== */
.page-wrapper {
    padding: 20px 60px;
}

/* ===== CARD ===== */
.container {
    max-width: 900px;
    margin: auto;
}

.card {
    background: white;
    border-radius: 18px;
    padding: 40px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
}

/* ===== PROFILE ===== */
.avatar {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: #d9cdef;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    font-weight: bold;
    color: #5b3fa6;
    margin: auto;
}

h2 {
    text-align: center;
    color: #5b3fa6;
    font-size: 30px;
}

/* ===== INFO ===== */
.info p {
    margin: 10px 0;
}

/* ===== SERVICES ===== */
.services span {
    display: inline-block;
    background: #efe9ff;
    padding: 10px 16px;
    border-radius: 10px;
    margin: 6px;
    color: #4a357d;
    font-weight: bold;
}

/* ===== STATUS ===== */
.status-box {
    background: #f3efff;
    padding: 22px;
    border-radius: 14px;
    margin-top: 25px;
}

#statusText.completed {
    color: #2e7d32;
    font-weight: bold;
    text-transform: uppercase;
}

/* ===== RATING ===== */
.rating-box {
    margin-top: 25px;
    padding: 25px;
    background: linear-gradient(135deg, #ede7fb, #f9f6ff);
    border-radius: 16px;
    display: none;
    border: 2px solid #d6c9f2;
}

.rating-title {
    font-weight: bold;
    font-size: 24px;
    text-align: center;
    color: #5b3fa6;
    margin-bottom: 15px;
}

.rating-stars {
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    color: #f4b400;
    margin-bottom: 15px;
}

.rating-box select {
    width: 100%;
    padding: 12px;
    font-size: 18px;
    border-radius: 8px;
    border: 1px solid #c8bdf0;
}

/* ===== BUTTON ===== */
.cancel-btn {
    margin-top: 20px;
    background: #d63b3b;
    color: white;
    border: none;
    padding: 14px 22px;
    font-size: 18px;
    border-radius: 10px;
    cursor: pointer;
}
</style>
</head>

<body>

<!-- HEADING -->
<div class="app-header">Connect Circle</div>

<!-- BACK BUTTON -->
<button class="back-btn" onclick="goBack()">← Back to Requests</button>

<div class="page-wrapper">
<div class="container">
<div class="card">

<div class="avatar" id="avatar"></div>
<h2 id="name"></h2>

<div class="info">
    <p><strong>Profession:</strong> <span id="profession"></span></p>
    <p><strong>Distance:</strong> <span id="distance"></span> km</p>
    <p><strong>Rating:</strong> ⭐ <span id="rating"></span></p>
</div>

<h3><strong>Services Offered</strong></h3>
<div class="services" id="services"></div>

<div class="status-box">
    <p>
        <strong>Request Status:</strong>
        <span id="statusText">Pending</span>
    </p>
    <button class="cancel-btn" id="cancelBtn" onclick="goBack()">Cancel Request ✖</button>
</div>

<!-- RATING -->
<div class="rating-box" id="ratingBox">
    <div class="rating-title">Please rate the helper</div>
    <div class="rating-stars">⭐ ⭐ ⭐ ⭐ ⭐</div>

    <select>
        <option>Select Rating</option>
        <option>⭐ 1 - Poor</option>
        <option>⭐ 2 - Fair</option>
        <option>⭐ 3 - Good</option>
        <option>⭐ 4 - Very Good</option>
        <option>⭐ 5 - Excellent</option>
    </select>
</div>

</div>
</div>
</div>

<script>
const params = new URLSearchParams(window.location.search);

const name = params.get("name") || "Helper";
const profession = params.get("profession") || "Unknown";
const rating = params.get("rating") || "-";
const distance = params.get("distance") || "-";

document.getElementById("name").innerText = name;
document.getElementById("profession").innerText = profession;
document.getElementById("rating").innerText = rating;
document.getElementById("distance").innerText = distance;
document.getElementById("avatar").innerText = name[0];

const servicesBox = document.getElementById("services");

if (profession === "Nurse") {
    servicesBox.innerHTML = "<span>Elderly Care</span><span>Medical Assistance</span>";
} else if (profession === "Driver") {
    servicesBox.innerHTML = "<span>Driving</span><span>Hospital Visits</span>";
} else if (profession === "Caretaker") {
    servicesBox.innerHTML = "<span>Elderly Support</span><span>Daily Assistance</span>";
} else {
    servicesBox.innerHTML = "<span>General Help</span>";
}

/* STATUS */
const taskStatus = localStorage.getItem("taskStatus") || "Pending";
const statusText = document.getElementById("statusText");

statusText.innerText = taskStatus;

if (taskStatus === "completed") {
    statusText.classList.add("completed");
    document.getElementById("ratingBox").style.display = "block";
    document.getElementById("cancelBtn").style.display = "none";
}

/* BACK */
function goBack() {
    window.location.href = "request.html";
}
</script>

</body>
</html>